
К готовому апи по примерке одежды
добавил:
- авторизацию через внешние провайдеры vk, google
- история примерок
- загрузка фото + нормализация фото + distinct фото
- бл ограничение на кол-ва примерок в день

из нефункциональных:
- Rate limit (от ддос)
- кеширование (для производительности)
- шифрование токенов в бд (для безопасности) и на клиенте тоже шифровать перед сохранением в localStorage
- метрики
- структурное логирование (чтоб см логи в сторонней системе)
- хранение конфигурации во внешней системе
- healthcheck (с админской и с логином) и отправкой уведомления в телегу если недоступна бд

//шифрование на клиенте
const encryptedAccessToken = btoa(accessToken); // Base64 (небезопасно, лучше использовать библиотеки)
localStorage.setItem('encryptedAccessToken', encryptedAccessToken);

Нормализация фото:
Результирующее фото всегда размером 768 на 1024. 1024 / 768 = 1.3 - поэтому мы все входные фото будет приводить к этому отношению
Главное чтоб фото с человеком которому примеряют одежду было с отношением сторон 1.3

0. Исходим из того что фото вертикальное тоесть ширина меньше высоты
а если это не так то мы сразу рамочку показываем и говорим пользователю как планируем скропить
1. Если фото в ширину больше 1024, то уменьшаем его до ширины 1024 и соответственно уменьшаем высоту пропорционально
2. Вычисляем отношение высоты к ширине и если оно не в диапазоне 1.2-1.3 то приводим к 1.3


Фото которые в коллекции нужно через upload провести и убедится что все ок работает
6R9OT4 промокд на котором делал тесты   см историю


Upload всегда будет возвращать файл оканчивающийся на _v.
Try on возвращает _v.


https://a33140-9deb.k.d-f.pw/swagger/index.html
ASPNETCORE_ENVIRONMENT = Prod
https 8080


todo:
каждый серввис авторизации делать в отдельном проекте